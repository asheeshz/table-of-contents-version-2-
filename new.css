// table.js में (उदाहरण)
function highlightContent(headingElement) {
    const highlightDuration = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--stoc-highlight-duration') || '3s') * 1000;

    // पुरानी हाइलाइट्स हटाएं
    document.querySelectorAll('.stoc-toc-target-heading, .stoc-toc-target-paragraph').forEach(el => {
        el.classList.remove('stoc-toc-target-heading', 'stoc-toc-target-paragraph', 'fading-out');
    });

    if (headingElement) {
        headingElement.classList.add('stoc-toc-target-heading');

        let nextElement = headingElement.nextElementSibling;
        let paragraphsHighlighted = 0;
        while (nextElement && paragraphsHighlighted < 1 && nextElement.tagName === 'P') { // पहले पैराग्राफ को हाइलाइट करें
            nextElement.classList.add('stoc-toc-target-paragraph');
            paragraphsHighlighted++;
            nextElement = nextElement.nextElementSibling;
        }

        setTimeout(() => {
            headingElement.classList.add('fading-out');
            document.querySelectorAll('.stoc-toc-target-paragraph').forEach(p => p.classList.add('fading-out'));

            // फीका पड़ने के बाद क्लास पूरी तरह से हटाएं
            setTimeout(() => {
                 headingElement.classList.remove('stoc-toc-target-heading', 'fading-out');
                 document.querySelectorAll('.stoc-toc-target-paragraph').forEach(p => p.classList.remove('stoc-toc-target-paragraph', 'fading-out'));
            }, 500); // फीका पड़ने का समय (CSS ट्रांजिशन से मेल खाना चाहिए)
        }, highlightDuration);
    }
}
