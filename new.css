// table.js में (उदाहरण)
function highlightContent(headingElement) {
    const highlightDuration = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--stoc-highlight-duration') || '3s') * 1000;
    const fadeOutTransition = 500; // CSS में fading-out ट्रांजिशन अवधि से मेल खाए (ms)

    // पिछली सभी हाइलाइटिंग और फेडिंग क्लास हटाएं
    document.querySelectorAll('.stoc-highlight-active, .fading-out').forEach(el => {
        el.classList.remove('stoc-highlight-active', 'fading-out');
        // यदि आपके पास कोई स्थायी हाइलाइट क्लास थी (जैसे .stoc-toc-target-heading), तो उसे भी हटाएं
        el.classList.remove('stoc-toc-target-heading', 'stoc-toc-target-paragraph');
    });

    if (headingElement) {
        // नई हाइलाइट क्लास जोड़ें
        headingElement.classList.add('stoc-toc-target-heading', 'stoc-highlight-active');

        let nextElement = headingElement.nextElementSibling;
        let paragraphsHighlighted = 0;
        // केवल पहले पैराग्राफ को हाइलाइट करें (या आपकी आवश्यकतानुसार)
        if (nextElement && nextElement.tagName === 'P') {
            nextElement.classList.add('stoc-toc-target-paragraph', 'stoc-highlight-active');
            paragraphsHighlighted++;
        }

        // हाइलाइट अवधि के बाद फेड-आउट शुरू करें
        setTimeout(() => {
            headingElement.classList.remove('stoc-highlight-active');
            headingElement.classList.add('fading-out');

            document.querySelectorAll('.stoc-toc-target-paragraph.stoc-highlight-active').forEach(p => {
                p.classList.remove('stoc-highlight-active');
                p.classList.add('fading-out');
            });

            // फेड-आउट के बाद क्लास पूरी तरह से हटाएं
            setTimeout(() => {
                 headingElement.classList.remove('stoc-toc-target-heading', 'fading-out');
                 document.querySelectorAll('.stoc-toc-target-paragraph.fading-out').forEach(p => {
                     p.classList.remove('stoc-toc-target-paragraph', 'fading-out');
                 });
            }, fadeOutTransition);
        }, highlightDuration);
    }
}
