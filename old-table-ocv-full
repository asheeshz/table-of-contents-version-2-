<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§∂ TOC ‡§°‡•á‡§Æ‡•ã</title>
    <!-- 1. Font Awesome CDN (‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <!-- 2. CSS ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó -->
    <style>
    /* --- ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ö‡§∞ ‡§î‡§∞ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ --- */
    :root {
        /* ‡§∞‡§Ç‡§ó ‡§™‡•à‡§≤‡•á‡§ü */
        --toc-color-1: #6a11cb; /* ‡§ó‡§π‡§∞‡§æ ‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä */
        --toc-color-2: #2575fc; /* ‡§®‡•Ä‡§≤‡§æ */
        --toc-color-3: #00d2ff; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§∏‡§ø‡§Ø‡§æ‡§® */
        --toc-color-4: #ff758c; /* ‡§ó‡•Å‡§≤‡§æ‡§¨‡•Ä */
        --toc-color-5: #fccb45; /* ‡§™‡•Ä‡§≤‡§æ */
        /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§î‡§∞ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü */
        --toc-text-light: #ffffff;
        --toc-text-dark: #343a40; /* ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Ü‡§á‡§ü‡§Æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è */
        --toc-text-muted: #6c757d;
        --toc-highlight-bg-start: rgba(37, 117, 252, 0.1);
        --toc-highlight-bg-end: rgba(106, 17, 203, 0.15);
        --toc-highlight-duration: 6s; /* ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® ‡§Ö‡§µ‡§ß‡§ø */
        --toc-popup-highlight-duration: 6s; /* ‡§™‡•â‡§™‡§Ö‡§™ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§µ‡§ß‡§ø (JS ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ) */
        /* ‡§Ö‡§®‡•ç‡§Ø */
        --toc-border-radius: 12px;
        --toc-font-main: 'Roboto', sans-serif;
        --toc-font-heading: 'Poppins', sans-serif;
        --toc-sidebar-width: 20vw; --toc-sidebar-min-width: 260px; --toc-sidebar-max-width: 320px;
        --toc-button-box-max-height-initial: 150px;
        --toc-button-box-max-height-expanded: 450px;
        --toc-close-icon-hover: #e74c3c;

        /* *** ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Ü‡§á‡§ü‡§Æ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§∞‡§Ç‡§ó *** */
        --toc-list-bg-h2: #e9d8fd; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä */
        --toc-list-bg-h3: #d6eafe; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§®‡•Ä‡§≤‡§æ */
        --toc-list-bg-h4: #cffafe; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§∏‡§ø‡§Ø‡§æ‡§® */
        --toc-list-bg-h5: #ffebee; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§ó‡•Å‡§≤‡§æ‡§¨‡•Ä */
        --toc-list-bg-h6: #fff8e1; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§™‡•Ä‡§≤‡§æ/‡§ï‡•ç‡§∞‡•Ä‡§Æ */
    }

    body {
        font-family: var(--toc-font-main);
        color: var(--toc-text-dark);
        line-height: 1.6;
        margin: 0; /* ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® ‡§π‡§ü‡§æ‡§è‡§Å */
        padding: 20px; /* ‡§¨‡•â‡§°‡•Ä ‡§Æ‡•á‡§Ç ‡§•‡•ã‡§°‡§º‡•Ä ‡§™‡•à‡§°‡§ø‡§Ç‡§ó ‡§ú‡•ã‡§°‡§º‡•á‡§Ç */
        background-color: #f8f9fa; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§∞‡§Ç‡§ó */
    }
    html { scroll-behavior: smooth; }

    /* --- ‡§¨‡§ü‡§® TOC ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§î‡§∞ ‡§¨‡§ü‡§® --- */
    #toc-button-wrapper {
        margin-bottom: 30px; position: relative; border-radius: var(--toc-border-radius);
        background: #fff; box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        border: 1px solid #e9ecef; overflow: hidden;
    }
    #toc-button-header {
        display: flex; justify-content: space-between; align-items: center;
        padding: 12px 20px; cursor: pointer;
        background: linear-gradient(60deg, #c94b4b, #f67280); /* ‡§≤‡§æ‡§≤/‡§ó‡•Å‡§≤‡§æ‡§¨‡•Ä ‡§ó‡•ç‡§∞‡•á‡§°‡§ø‡§è‡§Ç‡§ü */
        color: var(--toc-text-light);
    }
    #toc-button-header h3 {
        margin: 0; font-family: var(--toc-font-heading); font-size: 1.3em;
        font-weight: 600; display: flex; align-items: center; gap: 10px;
    }
    .toc-button-title-text {
        display: inline-block; padding: 6px 20px; border-radius: 40px;
        background: rgba(255, 255, 255, 0.2); color: #fff0e6;
        font-weight: 600; font-size: 0.9em; margin: 0 6px;
        box-shadow: inset 0 1px 2px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.25);
    }
    #toc-button-header h3 .fa-book-open {
        color: #ffe5d9; font-size: 1.1em;
    }
    .toc-open-prompt-icon {
        font-size: 0.9em; display: inline-block;
        animation: point-right-pulse 2s infinite ease-in-out;
        color: #ffffff; margin-left: 6px;
    }
    @keyframes point-right-pulse { 0%, 100% { transform: translateX(0); opacity: 0.9; } 50% { transform: translateX(6px); opacity: 1; } }
    #toc-button-toggle-icon {
        font-size: 1.4em; transition: transform 0.35s ease; color: var(--toc-text-light);
    }
    #toc-button-wrapper.collapsed #toc-button-toggle-icon { transform: rotate(-180deg); }
    #toc-button-wrapper.expanded #toc-button-toggle-icon { transform: rotate(0deg); } /* ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§Ø‡§π ‡§µ‡§æ‡§™‡§∏ ‡§ò‡•Ç‡§Æ‡§§‡§æ ‡§π‡•à */

    /* --- ‡§¨‡§ü‡§® TOC ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤‡§¨‡•â‡§ï‡•ç‡§∏ --- */
    #toc-button-scrollbox {
        max-height: 0; /* ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡§Ç‡§¶ */
        overflow-y: auto; overflow-x: hidden;
        padding: 0 20px; /* ‡§™‡•à‡§°‡§ø‡§Ç‡§ó ‡§ï‡•á‡§µ‡§≤ ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞‡§ø‡§§ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•ã‡§ó‡•Ä */
        position: relative; transition: max-height 0.55s ease-in-out, padding 0.55s ease-in-out, opacity 0.4s ease-out;
        border-top: none; /* ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡•â‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç */
        opacity: 0;
        background-image: radial-gradient(circle at 10% 15%, var(--toc-color-1) 1px, transparent 1px), radial-gradient(circle at 85% 25%, var(--toc-color-2) 1px, transparent 1px), radial-gradient(circle at 25% 85%, var(--toc-color-3) 1px, transparent 1px), radial-gradient(circle at 70% 70%, var(--toc-color-4) 1px, transparent 1px), radial-gradient(circle at 45% 45%, var(--toc-color-5) 1px, transparent 1px);
        background-size: 40px 40px, 50px 50px, 60px 60px, 45px 45px, 55px 55px;
        background-repeat: repeat; background-color: #ffffff;
    }
    #toc-button-wrapper.expanded #toc-button-scrollbox {
        max-height: var(--toc-button-box-max-height-expanded);
        padding: 15px 20px;
        border-top: 1px solid #e9ecef;
        opacity: 1;
        transition: max-height 0.55s ease-in-out, padding 0.55s ease-in-out, opacity 0.3s ease-in 0.1s, border-top 0s linear 0.1s; /* ‡§¨‡•â‡§∞‡•ç‡§°‡§∞ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å */
    }
    #toc-button-list { list-style: none; padding: 0; margin: 0; }

    /* --- ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó TOC ‡§Ü‡§á‡§ï‡§® --- */
    #floating-toc-icon {
        position: fixed; top: 50%; right: 30px; transform: translateY(-50%);
        font-size: 3.2em; color: var(--toc-color-1); background: none; border: none;
        padding: 0; cursor: pointer; z-index: 999;
        transition: opacity 0.4s ease, visibility 0.4s ease, transform 0.4s ease, color 0.4s ease, right 0.4s ease;
        text-shadow: 0 0 15px rgba(106, 17, 203, 0.7);
        animation: pulse-glow-float-original 2.8s infinite ease-in-out;
        opacity: 0; visibility: hidden; /* ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§õ‡§ø‡§™‡§æ ‡§π‡•Å‡§Ü */
    }
    #floating-toc-icon.visible { opacity: 1; visibility: visible; }
    #floating-toc-icon:hover { transform: translateY(-50%) scale(1.2) rotate(12deg); filter: brightness(1.35); }
    body.toc-sidebar-open #floating-toc-icon { right: calc( clamp(var(--toc-sidebar-min-width), var(--toc-sidebar-width), var(--toc-sidebar-max-width)) + 35px); }
    @keyframes pulse-glow-float-original { 0%, 100% { transform: translateY(-50%) scale(1); filter: drop-shadow(0 0 8px var(--toc-color-1)); color: var(--toc-color-1); } 50% { transform: translateY(-55%) scale(1.08); filter: drop-shadow(0 0 20px var(--toc-color-2)); color: var(--toc-color-2); } }

    /* --- ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ --- */
    #toc-icon-sidebar {
        position: fixed; top: 0; right: 0; width: clamp(var(--toc-sidebar-min-width), var(--toc-sidebar-width), var(--toc-sidebar-max-width));
        height: 100vh; background-color: #fff; box-shadow: -10px 0 40px rgba(0, 0, 0, 0.22);
        transform: translateX(100%); transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1010; display: flex; flex-direction: column; overflow: hidden;
        border-left: 5px solid; border-image: linear-gradient(180deg, var(--toc-color-1), var(--toc-color-2), var(--toc-color-3)) 1;
    }
    #toc-icon-sidebar.visible { transform: translateX(0); }
    #toc-icon-sidebar-header {
        padding: 18px 55px 18px 25px; border-bottom: 1px solid #e0e5ec; flex-shrink: 0; position: relative;
        background: linear-gradient(135deg, rgba(106,17,203,0.06), rgba(37,117,252,0.06));
    }
    #toc-icon-sidebar-header h3 {
        margin: 0; font-family: var(--toc-font-heading); font-size: 1.35em; font-weight: 700; text-align: center;
        color: var(--toc-color-1);
    }
    #toc-sidebar-internal-close {
        position: absolute; top: 50%; right: 18px; transform: translateY(-50%);
        background: none; border: none; width: 34px; height: 34px; font-size: 1.3em;
        color: #999; cursor: pointer; display: flex; justify-content: center; align-items: center;
        border-radius: 50%; transition: background-color 0.2s ease, color 0.2s ease, transform 0.3s ease;
    }
    #toc-sidebar-internal-close:hover { background-color: rgba(0,0,0,0.07); color: var(--toc-close-icon-hover); transform: translateY(-50%) rotate(180deg); }
    #toc-icon-sidebar-scrollbox {
        flex-grow: 1; overflow-y: auto; padding: 20px 15px 20px 20px; position: relative;
        background-image: linear-gradient(45deg, rgba(106,17,203,0.04) 25%, transparent 25%), linear-gradient(-45deg, rgba(37,117,252,0.04) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0,198,255,0.04) 75%), linear-gradient(-45deg, transparent 75%, rgba(255,107,107,0.04) 75%), radial-gradient(circle at center, rgba(254,202,87,0.04) 10%, transparent 11%);
        background-size: 45px 45px, 45px 45px, 45px 45px, 45px 45px, 100% 100%;
        background-position: 0 0, 0 22.5px, 22.5px -22.5px, 22.5px 0px, 0 0;
        background-color: #fdfdfe;
    }
    #toc-icon-sidebar-list { list-style: none; padding: 0 0 15vh 0; margin: 0; }

    /* --- ‡§¨‡§æ‡§π‡§∞‡•Ä ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ï‡•ç‡§≤‡•ã‡§ú ‡§¨‡§ü‡§® --- */
    #toc-sidebar-external-close {
        position: fixed; top: 50%; left: 25px; transform: translateY(-50%);
        width: 48px; height: 48px; background: linear-gradient(135deg, var(--toc-color-4), var(--toc-color-3));
        border: none; border-radius: 50%; color: #fff; font-size: 1.6em;
        cursor: pointer; box-shadow: 0 6px 18px rgba(255, 107, 107, 0.5);
        z-index: 1011; display: flex; justify-content: center; align-items: center;
        opacity: 0; visibility: hidden; transition: all 0.4s ease;
        transform: translateY(-50%) scale(0.8);
    }
    #toc-sidebar-external-close.visible { opacity: 1; visibility: visible; transform: translateY(-50%) scale(1); }
    #toc-sidebar-external-close:hover { transform: translateY(-50%) scale(1.15) rotate(-20deg); box-shadow: 0 10px 25px rgba(255, 107, 107, 0.7); }

    /* --- ‡§∏‡§æ‡§ù‡§æ TOC ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Ü‡§á‡§ü‡§Æ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó --- */
    .toc-list-item {
        margin-bottom: 9px; position: relative; border-radius: 9px; padding: 2px;
        background: linear-gradient(110deg, var(--toc-color-1), var(--toc-color-2), var(--toc-color-3), var(--toc-color-4), var(--toc-color-5));
        background-size: 400% 400%; animation: gradient-bg-animation 9s ease infinite;
        overflow: hidden; transition: box-shadow 0.3s ease;
    }
    .toc-list-item:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.1); }

    .toc-list-item a {
        display: flex; align-items: flex-start; gap: 12px; padding: 13px 15px;
        text-decoration: none; border-radius: 7px; position: relative; z-index: 1;
        background-color: var(--toc-list-bg-h2); /* ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° (H2 ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó) */
        color: var(--toc-text-dark); /* ‡§†‡•ã‡§∏ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∞‡§Ç‡§ó */
        transition: transform 0.25s ease, background-color 0.2s ease;
    }
    .toc-list-item a:hover {
        transform: scale(1.015);
        background-color: #fff; /* ‡§π‡•ã‡§µ‡§∞ ‡§™‡§∞ ‡§∏‡§´‡•á‡§¶ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° */
    }
    /* ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§á‡•û‡•á‡§ï‡•ç‡§ü ‡§ï‡•ç‡§≤‡§æ‡§∏ (‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§¨‡§¶‡§≤‡•á‡§Ç) */
    .toc-list-item a.toc-link-clicked {
        transform: scale(1.03);
        background-color: #eef; /* ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡§∞ ‡§π‡§≤‡•ç‡§ï‡§æ ‡§®‡•Ä‡§≤‡§æ/‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä ‡§ü‡§ø‡§Ç‡§ü */
        transition: transform 0.1s ease-out, background-color 0.1s ease-out;
    }

    @keyframes gradient-bg-animation { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    .toc-list-item .toc-item-icon {
        margin-top: 4px; font-size: 1.1em; width: 1.3em; text-align: center; opacity: 1;
        transition: color 0.2s ease;
        color: var(--toc-color-1); /* ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§∞‡§Ç‡§ó */
    }
    .toc-list-item a:hover .toc-item-icon {
         color: var(--toc-color-1); /* ‡§π‡•ã‡§µ‡§∞ ‡§™‡§∞ ‡§∞‡§Ç‡§ó ‡§® ‡§¨‡§¶‡§≤‡•á‡§Ç */
    }
    .toc-list-item a.toc-link-clicked .toc-item-icon {
        color: var(--toc-color-1); /* ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡§∞ ‡§∞‡§Ç‡§ó ‡§® ‡§¨‡§¶‡§≤‡•á‡§Ç */
    }

    .toc-list-item .toc-item-text {
        flex-grow: 1; font-size: 1.1em; line-height: 1.65;
        font-weight: 600; font-family: var(--toc-font-main);
        white-space: normal; word-break: break-word;
    }

    /* --- ‡§™‡§¶‡§æ‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó (‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§°, ‡§Ü‡§á‡§ï‡§® ‡§∞‡§Ç‡§ó, ‡§™‡•à‡§°‡§ø‡§Ç‡§ó) --- */
    .toc-list-item.level-2 { padding-left: 0; }
    .toc-list-item.level-2 a { font-weight: 700; font-size: 1.15em; background-color: var(--toc-list-bg-h2); }
    .toc-list-item.level-2 .toc-item-icon { color: var(--toc-color-1); font-size: 1.15em; }

    .toc-list-item.level-3 { padding-left: 18px; }
    .toc-list-item.level-3 a { font-weight: 600; font-size: 1.1em; background-color: var(--toc-list-bg-h3); }
    .toc-list-item.level-3 .toc-item-icon { color: var(--toc-color-2); }

    .toc-list-item.level-4 { padding-left: 36px; }
    .toc-list-item.level-4 a { font-weight: 600; font-size: 1.05em; background-color: var(--toc-list-bg-h4); }
    .toc-list-item.level-4 .toc-item-icon { color: var(--toc-color-3); }

    .toc-list-item.level-5 { padding-left: 54px; }
    .toc-list-item.level-5 a { font-weight: 600; font-size: 1.05em; background-color: var(--toc-list-bg-h5); }
    .toc-list-item.level-5 .toc-item-icon { color: var(--toc-color-4); }

    .toc-list-item.level-6 { padding-left: 72px; }
    .toc-list-item.level-6 a { font-weight: 600; font-size: 1.05em; background-color: var(--toc-list-bg-h6); }
    .toc-list-item.level-6 .toc-item-icon { color: var(--toc-color-5); }


    /* --- ‡§∏‡§æ‡§ù‡§æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ --- */
    .toc-scroll-indicator {
        position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);
        font-size: 2.1em; opacity: 0; pointer-events: none;
        color: var(--toc-color-1);
        text-shadow: 0 0 10px var(--toc-color-3);
        animation: bounce-pulse 2s infinite ease-in-out;
        transition: opacity 0.4s ease;
    }
    .toc-scroll-indicator.visible { opacity: 1; }
    @keyframes bounce-pulse { 0%, 100% { transform: translate(-50%, 0px) scale(1); opacity: 0.7; } 50% { transform: translate(-50%, -10px) scale(1.1); opacity: 1; } }

    /* ‡§ï‡§∏‡•ç‡§ü‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤‡§¨‡§æ‡§∞ */
    #toc-button-scrollbox::-webkit-scrollbar, #toc-icon-sidebar-scrollbox::-webkit-scrollbar { width: 6px; }
    #toc-button-scrollbox::-webkit-scrollbar-track, #toc-icon-sidebar-scrollbox::-webkit-scrollbar-track { background: rgba(0,0,0,0.04); border-radius: 3px; }
    #toc-button-scrollbox::-webkit-scrollbar-thumb, #toc-icon-sidebar-scrollbox::-webkit-scrollbar-thumb { background: linear-gradient(180deg, var(--toc-color-2), var(--toc-color-3)); border-radius: 3px; }
    /* Firefox ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤‡§¨‡§æ‡§∞ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï) */
    #toc-button-scrollbox, #toc-icon-sidebar-scrollbox { scrollbar-width: thin; scrollbar-color: var(--toc-color-2) rgba(0,0,0,0.04); }


    /* --- ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü‡§ø‡§Ç‡§ó --- */
    @keyframes zoom-in-effect { 0% { transform: scale(0.98); opacity: 0.9; } 50% { transform: scale(1.02); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }
    .toc-target-heading {
        position: relative; color: var(--toc-color-3) !important;
        animation: zoom-in-effect 0.6s ease-out forwards;
        padding: 5px 0; border-bottom: 3px solid transparent; transition: color 0.3s ease;
        text-shadow: 0 0 8px rgba(0, 210, 255, 0.5);
    }
    /* ‡§¨‡•â‡§∞‡•ç‡§°‡§∞ ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® */
    .toc-target-heading::after { content: ''; position: absolute; left: 0; bottom: -2px; width: 100%; height: 3px; background: linear-gradient(90deg, var(--toc-color-2), var(--toc-color-1), var(--toc-color-3), var(--toc-color-2)); background-size: 200% 100%; animation: gradient-bg-animation 2.5s linear infinite; border-radius: 2px; transition: opacity 0.5s ease var(--toc-popup-highlight-duration); opacity: 1; }
    .toc-target-heading.fading-out::after { opacity: 0; }
    .toc-target-heading.fading-out { color: var(--toc-text-dark) !important; background: none; animation: none; text-shadow: none; transform: scale(1); }
    /* ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® */
    @keyframes pulse-background-alt { 0% { background-color: var(--toc-highlight-bg-start); box-shadow: 0 4px 15px rgba(37, 117, 252, 0.1); } 50% { background-color: var(--toc-highlight-bg-end); box-shadow: 0 6px 25px rgba(106, 17, 203, 0.18); } 100% { background-color: var(--toc-highlight-bg-start); box-shadow: 0 4px 15px rgba(37, 117, 252, 0.1); } }
    .toc-target-paragraph {
        padding: 20px; margin-left: -20px; margin-right: -20px; border-radius: var(--toc-border-radius);
        animation: pulse-background-alt 2.8s ease-in-out infinite;
        transition: background-color 0.5s ease, box-shadow 0.5s ease, padding 0.5s ease, margin 0.5s ease;
        transition-delay: calc(var(--toc-popup-highlight-duration) - 0.5s); /* ‡§´‡•á‡§°-‡§Ü‡§â‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§†‡•Ä‡§ï ‡§™‡§π‡§≤‡•á ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§ï‡§∞‡•á‡§Ç */
    }
    .toc-target-paragraph.fading-out {
        background-color: transparent !important; /* !important ‡§ú‡•ã‡§°‡§º‡•á‡§Ç */
        box-shadow: none !important; /* !important ‡§ú‡•ã‡§°‡§º‡•á‡§Ç */
        padding: 0; margin: 0; animation: none;
    }


    /* --- Responsive --- */
    @media (max-width: 768px) {
        :root { --toc-sidebar-width: 75vw; --toc-sidebar-min-width: 250px; --toc-sidebar-max-width: 310px;}
        #floating-toc-icon { font-size: 2.8em; right: 20px; }
        body.toc-sidebar-open #floating-toc-icon { right: calc( clamp(var(--toc-sidebar-min-width), var(--toc-sidebar-width), var(--toc-sidebar-max-width)) + 25px); }
        #toc-sidebar-external-close { width: 42px; height: 42px; font-size: 1.4em; left: 18px; }
        #toc-button-header h3 { font-size: 1.2em; }
        .toc-button-title-text { padding: 5px 16px; font-size: 0.88em; }
        #toc-icon-sidebar-header h3 { font-size: 1.25em; }
        #toc-icon-sidebar { width: clamp(var(--toc-sidebar-min-width), var(--toc-sidebar-width), var(--toc-sidebar-max-width)); } /* ‡§ï‡•ç‡§≤‡•à‡§Ç‡§™ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç */
        .toc-list-item a { padding: 11px 13px; }
        .toc-list-item .toc-item-text { font-size: 1.05em; }
        .toc-list-item.level-3, .toc-list-item.level-4, .toc-list-item.level-5, .toc-list-item.level-6 { padding-left: 15px; } /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§á‡§Ç‡§°‡•á‡§Ç‡§ü‡•á‡§∂‡§® ‡§ï‡§Æ ‡§ï‡§∞‡•á‡§Ç */
        .toc-target-paragraph { padding: 15px; margin-left: -15px; margin-right: -15px; }
    }

    /* ‡§è‡§ï‡•ç‡§∏‡•á‡§∏‡§ø‡§¨‡§ø‡§≤‡§ø‡§ü‡•Ä: ‡§ï‡§Æ ‡§Æ‡•ã‡§∂‡§® ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ */
    @media (prefers-reduced-motion: reduce) {
      /* ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§ø‡§∂‡§®/‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§® ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç */
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
        transition-delay: 0ms !important;
      }

      /* ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§è‡§®‡§ø‡§Æ‡•á‡§∂‡§®/‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç */
      .toc-open-prompt-icon,
      #floating-toc-icon,
      .toc-list-item, /* Gradient animation */
      .toc-target-heading,
      .toc-target-heading::after,
      .toc-target-paragraph,
      .toc-scroll-indicator,
      #toc-sidebar-internal-close,
      #toc-sidebar-external-close,
      .toc-list-item a {
        animation: none !important;
        transition: none !important; /* Ensure transitions are also off */
      }

       /* ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ï‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§®/‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§∞‡§ñ‡•á‡§Ç */
       #toc-button-toggle-icon { transition: transform 0.01ms !important; } /* ‡§∏‡•ç‡§ü‡§ø‡§≤ ‡§∞‡•ã‡§ü‡•á‡§ü */
       #toc-button-wrapper.collapsed #toc-button-toggle-icon { transform: rotate(-180deg); }
       #toc-button-wrapper.expanded #toc-button-toggle-icon { transform: rotate(0deg); }

       #toc-button-scrollbox { transition: max-height 0.01ms, padding 0.01ms, opacity 0.01ms !important; }
       #toc-icon-sidebar { transition: transform 0.01ms !important; }
       #toc-sidebar-external-close { transition: opacity 0.01ms, visibility 0.01ms, transform 0.01ms !important; }

       /* ‡§π‡•ã‡§µ‡§∞/‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡§∞ ‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§∞‡§ñ‡•á‡§Ç */
       #toc-button-header:hover { background-color: #c0392b; } /* ‡§ó‡•ç‡§∞‡•á‡§°‡§ø‡§è‡§Ç‡§ü ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø ‡§†‡•ã‡§∏ ‡§∞‡§Ç‡§ó */
       .toc-list-item a:hover {
          transform: none; /* ‡§∏‡•ç‡§ï‡•á‡§≤ ‡§π‡§ü‡§æ‡§è‡§Å */
          background-color: #f8f9fa; /* ‡§•‡•ã‡§°‡§º‡§æ ‡§Ö‡§≤‡§ó ‡§π‡•ã‡§µ‡§∞ ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° */
       }
       .toc-list-item a.toc-link-clicked {
          transform: none; /* ‡§∏‡•ç‡§ï‡•á‡§≤ ‡§π‡§ü‡§æ‡§è‡§Å */
          background-color: #eef; /* ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§∞‡§ñ‡•á‡§Ç */
       }
       #toc-sidebar-internal-close:hover {
           background-color: rgba(0,0,0,0.07);
           color: var(--toc-close-icon-hover);
           transform: translateY(-50%); /* ‡§∞‡•ã‡§ü‡•á‡§∂‡§® ‡§π‡§ü‡§æ‡§è‡§Å */
       }
       #toc-sidebar-external-close:hover {
           transform: translateY(-50%) scale(1.05); /* ‡§∏‡•ç‡§ï‡•á‡§≤ ‡§ï‡§Æ ‡§ï‡§∞‡•á‡§Ç, ‡§∞‡•ã‡§ü‡•á‡§∂‡§® ‡§π‡§ü‡§æ‡§è‡§Å */
           box-shadow: 0 8px 20px rgba(255, 107, 107, 0.6);
       }
       #floating-toc-icon:hover {
           transform: translateY(-50%); /* ‡§∏‡•ç‡§ï‡•á‡§≤/‡§∞‡•ã‡§ü‡•á‡§∂‡§® ‡§π‡§ü‡§æ‡§è‡§Å */
           filter: brightness(1.1); /* ‡§π‡§≤‡•ç‡§ï‡•Ä ‡§ö‡§Æ‡§ï */
       }
    }

    /* --- ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§è‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•á‡§∏‡§ø‡§ï ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ --- */
    #post-content-area {
        background: #fff;
        padding: 25px 30px;
        border-radius: var(--toc-border-radius);
        box-shadow: 0 4px 15px rgba(0,0,0,0.06);
        margin-top: 20px; /* ‡§¨‡§ü‡§® TOC ‡§∏‡•á ‡§Ö‡§Ç‡§§‡§∞ */
    }
    #post-content-area h1, #post-content-area h2, #post-content-area h3, #post-content-area h4, #post-content-area h5, #post-content-area h6 {
        font-family: var(--toc-font-heading);
        margin-top: 1.8em;
        margin-bottom: 0.8em;
        color: #495057;
    }
    #post-content-area h1 { font-size: 2.2em; color: var(--toc-color-1); border-bottom: 2px solid var(--toc-color-1); padding-bottom: 10px; margin-top: 0;}
    #post-content-area h2 { font-size: 1.8em; color: var(--toc-color-2); }
    #post-content-area h3 { font-size: 1.5em; color: var(--toc-color-3); }
    #post-content-area h4 { font-size: 1.3em; color: var(--toc-color-4); }
    #post-content-area h5 { font-size: 1.15em; color: var(--toc-color-5); }
    #post-content-area h6 { font-size: 1.05em; color: #6c757d; }
    #post-content-area p {
        margin-bottom: 1.2em;
        color: #495057;
    }

    </style>
</head>
<body>

    <!-- 3. HTML ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ -->
    <div class="toc-container">
        <div id="toc-button-wrapper" class="collapsed">
            <div id="toc-button-header" role="button" tabindex="0" aria-expanded="false" aria-controls="toc-button-scrollbox">
                <h3 id="toc-button-header-title">
                    <i class="fas fa-book-open"></i>
                    <span class="toc-button-title-text">‡§∏‡§æ‡§∞ ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π</span>
                    <i class="fas fa-hand-point-right toc-open-prompt-icon" aria-hidden="true"></i>
                </h3>
                <i id="toc-button-toggle-icon" class="fas fa-chevron-down"></i>
            </div>
            <div id="toc-button-scrollbox" role="region" aria-labelledby="toc-button-header-title">
                <ul id="toc-button-list">
                    <!-- TOC ‡§Ü‡§á‡§ü‡§Æ JS ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á ‡§ú‡§æ‡§è‡§Å‡§ó‡•á -->
                </ul>
                <div id="button-scroll-indicator" class="toc-scroll-indicator">
                     <i class="fas fa-angles-down"></i>
                </div>
            </div>
        </div>

        <button id="floating-toc-icon" aria-label="‡§µ‡§ø‡§∑‡§Ø ‡§∏‡•Ç‡§ö‡•Ä ‡§ñ‡•ã‡§≤‡•á‡§Ç">üßæ</button>

        <button id="toc-sidebar-external-close" aria-label="‡§µ‡§ø‡§∑‡§Ø ‡§∏‡•Ç‡§ö‡•Ä ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç">
            <i class="fas fa-times"></i>
        </button>

        <div id="post-content-area">
            <!-- ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§Ø‡§π‡§æ‡§Å -->
            <h1>‡§Ö‡§≤‡•ç‡§ü‡§ø‡§Æ‡•á‡§ü ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§∂ TOC ‡§°‡•á‡§Æ‡•ã - ‡§∞‡§Ç‡§ó ‡§™‡§∞‡§ø‡§∑‡•ç‡§ï‡•É‡§§</h1>
            <p>‡§á‡§∏ ‡§°‡•á‡§Æ‡•ã ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§á‡§®‡§≤‡§æ‡§á‡§®, ‡§ï‡•ã‡§≤‡•à‡§™‡•ç‡§∏‡•á‡§¨‡§≤ TOC ‡§î‡§∞ ‡§è‡§ï ‡§è‡§°‡§µ‡§æ‡§Ç‡§∏‡•ç‡§° ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ TOC ‡§¶‡§ø‡§ñ‡§æ‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§ú‡§ü‡§ø‡§≤ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§∂‡§® ‡§π‡•à‡§Ç‡•§ ‡§∞‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§∞‡•Ç‡§™ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‡§î‡§∞ ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§á‡•û‡•á‡§ï‡•ç‡§ü ‡§ú‡•ã‡•ú‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§∏‡§≠‡•Ä ‡§§‡§§‡•ç‡§µ ‡§∏‡§π‡•Ä ‡§¢‡§Ç‡§ó ‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§</p>

            <h2 id="intro-web">‡§ñ‡§Ç‡§° 1: ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§µ‡•á‡§¨ ‡§ï‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø</h2>
            <p>‡§µ‡•á‡§¨ ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§®, ‡§™‡§π‡•Å‡§Ç‡§ö ‡§î‡§∞ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§ï‡§π‡•Ä‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§µ‡•á‡§¨ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§´‡•ç‡§∞‡§Ç‡§ü-‡§è‡§Ç‡§° ‡§î‡§∞ ‡§¨‡•à‡§ï-‡§è‡§Ç‡§° ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡•§</p>
            <p>‡§Ø‡§π ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§≠‡•Ä ‡§ñ‡§Ç‡§° 1 ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§µ‡•á‡§¨ ‡§Æ‡§æ‡§®‡§ï‡•ã‡§Ç, ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§∏‡§Ç‡§ó‡§§‡§§‡§æ ‡§î‡§∞ ‡§™‡•ç‡§∞‡§ó‡§§‡§ø‡§∂‡•Ä‡§≤ ‡§µ‡•á‡§¨ ‡§ê‡§™‡•ç‡§∏ (PWAs) ‡§ï‡•á ‡§Æ‡§π‡§§‡•ç‡§µ ‡§™‡§∞ ‡§ú‡•ã‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§</p>

            <h3 id="frontend-trends">‡§â‡§™‡§ñ‡§Ç‡§° 1.1: ‡§´‡•ç‡§∞‡§Ç‡§ü-‡§è‡§Ç‡§° ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡•ç‡§∏</h3>
            <p>‡§´‡•ç‡§∞‡§Ç‡§ü-‡§è‡§Ç‡§° ‡§á‡§ï‡•ã‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ó‡§§‡§ø‡§∂‡•Ä‡§≤ ‡§π‡•à‡•§ ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü, ‡§µ‡•ç‡§Ø‡•Ç ‡§î‡§∞ ‡§∏‡•ç‡§µ‡•á‡§≤‡•ç‡§ü ‡§ú‡•à‡§∏‡•á ‡§´‡•ç‡§∞‡•á‡§Æ‡§µ‡§∞‡•ç‡§ï ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§á‡§Ç‡§ü‡§∞‡§´‡•á‡§∏ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§§‡§∞‡•Ä‡§ï‡•á ‡§ï‡•ã ‡§¨‡§¶‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§ü‡§æ‡§á‡§™‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡§æ ‡§¨‡§¢‡§º‡§§‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•ã‡§° ‡§ï‡•Ä ‡§Æ‡§ú‡§¨‡•Ç‡§§‡•Ä ‡§î‡§∞ ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</p>

            <h4 id="react-ecosystem">‡§∏‡•ç‡§§‡§∞ 4 ‡§π‡•á‡§°‡§ø‡§Ç‡§ó 1.1.1: ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü ‡§á‡§ï‡•ã‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ</h4>
            <p>‡§®‡•á‡§ï‡•ç‡§∏‡•ç‡§ü.‡§ú‡•á‡§è‡§∏ (‡§∏‡§∞‡•ç‡§µ‡§∞-‡§∏‡§æ‡§á‡§° ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§∏‡•ç‡§ü‡•á‡§ü‡§ø‡§ï ‡§∏‡§æ‡§á‡§ü ‡§ú‡§®‡§∞‡•á‡§∂‡§® ‡§ï‡•á ‡§≤‡§ø‡§è), ‡§∞‡•á‡§°‡§ï‡•ç‡§∏ (‡§∏‡•ç‡§ü‡•á‡§ü ‡§Æ‡•à‡§®‡•á‡§ú‡§Æ‡•á‡§Ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è), ‡§î‡§∞ Zustand (‡§∏‡§∞‡§≤ ‡§∏‡•ç‡§ü‡•á‡§ü ‡§Æ‡•à‡§®‡•á‡§ú‡§Æ‡•á‡§Ç‡§ü) ‡§ú‡•à‡§∏‡•á ‡§â‡§™‡§ï‡§∞‡§£‡•ã‡§Ç ‡§®‡•á ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡•ã ‡§î‡§∞ ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§è‡§ï ‡§≤‡§Ç‡§¨‡§æ ‡§µ‡§æ‡§ï‡•ç‡§Ø ‡§π‡•à ‡§ú‡•ã ‡§Ø‡§π ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à ‡§ï‡§ø ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§Ü‡§ï‡§æ‡§∞‡•ã‡§Ç ‡§™‡§∞ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∞‡•à‡§™‡§ø‡§Ç‡§ó ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§™‡§†‡§®‡•Ä‡§Ø ‡§∞‡§π‡§§‡§æ ‡§π‡•à‡•§</p>

            <h5 id="vue-comp">‡§∏‡•ç‡§§‡§∞ 5 ‡§π‡•á‡§°‡§ø‡§Ç‡§ó 1.1.1.1: ‡§ï‡§Ç‡§™‡•ã‡§ú‡•Ä‡§∂‡§® ‡§¨‡§®‡§æ‡§Æ ‡§ë‡§™‡•ç‡§∂‡§® API</h5>
            <p>‡§µ‡•ç‡§Ø‡•Ç 3 ‡§Æ‡•á‡§Ç ‡§ï‡§Ç‡§™‡•ã‡§ú‡•Ä‡§∂‡§® ‡§è‡§™‡•Ä‡§Ü‡§à ‡§¨‡§°‡§º‡•á ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§ü‡§ø‡§≤ ‡§Ö‡§®‡•Å‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•á‡§π‡§§‡§∞ ‡§ï‡•ã‡§° ‡§∏‡§Ç‡§ó‡§†‡§® ‡§î‡§∞ ‡§™‡•Å‡§®: ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ú‡•ç‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§ï‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§≤‡§ö‡•Ä‡§≤‡§æ‡§™‡§® ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡§¨‡§ï‡§ø ‡§ë‡§™‡•ç‡§∂‡§® ‡§è‡§™‡•Ä‡§Ü‡§à ‡§õ‡•ã‡§ü‡•á ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§Ø‡§æ ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§∞‡§≤ ‡§¨‡§®‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à‡•§</p>

            <h2 id="performance-opt">‡§ñ‡§Ç‡§° 2: ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§®</h2>
            <p>‡§§‡•á‡§ú‡§º ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü‡•á‡§Ç ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•Ä ‡§∏‡§Ç‡§§‡•Å‡§∑‡•ç‡§ü‡§ø, ‡§∞‡•Ç‡§™‡§æ‡§Ç‡§§‡§∞‡§£ ‡§¶‡§∞ ‡§î‡§∞ SEO ‡§∞‡•à‡§Ç‡§ï‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§ñ‡§Ç‡§° ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§® ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ú‡•à‡§∏‡•á ‡§ï‡§ø ‡§ï‡•ã‡§° ‡§∏‡•ç‡§™‡•ç‡§≤‡§ø‡§ü‡§ø‡§Ç‡§ó, ‡§≤‡•á‡§ú‡§º‡•Ä ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó, ‡§á‡§Æ‡•á‡§ú ‡§ë‡§™‡•ç‡§ü‡§ø‡§Æ‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§® ‡§î‡§∞ ‡§ï‡•à‡§∂‡§ø‡§Ç‡§ó ‡§∞‡§£‡§®‡•Ä‡§§‡§ø‡§Ø‡§æ‡§Å‡•§</p>
            <p>‡§Ø‡§π ‡§ñ‡§Ç‡§° 2 ‡§ï‡§æ ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§π‡•à, ‡§ú‡•ã ‡§ï‡•ç‡§∞‡§ø‡§ü‡§ø‡§ï‡§≤ ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ‡§™‡§æ‡§• ‡§î‡§∞ ‡§µ‡•á‡§¨ ‡§µ‡§æ‡§á‡§ü‡§≤‡•ç‡§∏ (‡§ú‡•à‡§∏‡•á LCP, FID, CLS) ‡§ï‡•á ‡§Æ‡§π‡§§‡•ç‡§µ ‡§™‡§∞ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§π‡•à‡•§</p>
            <p>‡§î‡§∞ ‡§§‡•Ä‡§∏‡§∞‡§æ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§®‡§ø‡§ó‡§∞‡§æ‡§®‡•Ä ‡§â‡§™‡§ï‡§∞‡§£‡•ã‡§Ç ‡§î‡§∞ ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§™‡§∞ ‡§ö‡§∞‡•ç‡§ö‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</p>
            <p>‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§π‡•à‡•§</p>
            <p>‡§π‡§Æ ‡§≤‡•á‡§ú‡§º‡•Ä ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§ï‡•ã‡§° ‡§∏‡•ç‡§™‡•ç‡§≤‡§ø‡§ü‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§¨‡§æ‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>
            <p>‡§õ‡§µ‡§ø ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§® ‡§≠‡•Ä ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à: WebP ‡§Ø‡§æ AVIF ‡§ú‡•à‡§∏‡•á ‡§™‡•ç‡§∞‡§æ‡§∞‡•Ç‡§™‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§</p>
            <p>‡§∏‡§∞‡•ç‡§µ‡§∞-‡§∏‡§æ‡§á‡§° ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§®, ‡§ú‡•à‡§∏‡•á ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§µ‡§ø‡§§‡§∞‡§£ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï (CDN) ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡§æ ‡§≠‡•Ä ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§</p>

            <h2 id="accessibility-a11y">‡§ñ‡§Ç‡§° 3: ‡§µ‡•á‡§¨ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏‡§ø‡§¨‡§ø‡§≤‡§ø‡§ü‡•Ä (a11y)</h2>
            <p>‡§∏‡§≠‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•á‡§¨ ‡§ï‡•ã ‡§∏‡•Å‡§≤‡§≠ ‡§¨‡§®‡§æ‡§®‡§æ, ‡§ö‡§æ‡§π‡•á ‡§â‡§®‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§π‡•ã, ‡§è‡§ï ‡§®‡•à‡§§‡§ø‡§ï ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø‡§§‡§æ ‡§î‡§∞ ‡§ï‡§à ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§®, ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡•§</p>

            <h3 id="semantic-html">‡§â‡§™‡§ñ‡§Ç‡§° 3.1: ‡§∏‡§ø‡§Æ‡•á‡§Ç‡§ü‡§ø‡§ï HTML</h3>
            <p>‡§Ö‡§∞‡•ç‡§•‡§™‡•Ç‡§∞‡•ç‡§£ HTML ‡§ü‡•à‡§ó‡•ç‡§∏ (‡§ú‡•à‡§∏‡•á `<nav>`, `<article>`, `<aside>`, `<button>`) ‡§ï‡§æ ‡§â‡§ö‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§â‡§™‡§Ø‡•ã‡§ó ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§∞‡•Ä‡§°‡§∞‡•ç‡§∏ ‡§î‡§∞ ‡§Ö‡§®‡•ç‡§Ø ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§î‡§∞ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</p>

            <h4 id="aria-attributes">‡§∏‡•ç‡§§‡§∞ 4 ‡§π‡•á‡§°‡§ø‡§Ç‡§ó 3.1.1: ARIA ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Å</h4>
            <p>‡§ú‡§¨ ‡§∏‡§ø‡§Æ‡•á‡§Ç‡§ü‡§ø‡§ï HTML ‡§Ö‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§π‡•ã, ‡§§‡•ã ‡§è‡§ï‡•ç‡§∏‡•á‡§∏‡§ø‡§¨‡§≤ ‡§∞‡§ø‡§ö ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® (ARIA) ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Å (‡§ú‡•à‡§∏‡•á `aria-label`, `aria-describedby`, `aria-hidden`) ‡§ó‡§§‡§ø‡§∂‡•Ä‡§≤ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§î‡§∞ ‡§ï‡§∏‡•ç‡§ü‡§Æ UI ‡§ò‡§ü‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§î‡§∞ ‡§Ö‡§®‡•ç‡§§‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§∂‡•Ä‡§≤‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§</p>

            <h5 id="aria-roles">‡§∏‡•ç‡§§‡§∞ 5 ‡§π‡•á‡§°‡§ø‡§Ç‡§ó 3.1.1.1: ARIA ‡§∞‡•ã‡§≤‡•ç‡§∏</h5>
            <p>‡§∞‡•ã‡§≤‡•ç‡§∏ (‡§ú‡•à‡§∏‡•á `role="button"`, `role="navigation"`, `role="dialog"`) ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§è‡§ï ‡§§‡§§‡•ç‡§µ ‡§ï‡•á ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§ï‡•ã ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§ñ‡§æ‡§∏‡§ï‡§∞ ‡§ú‡§¨ ‡§ó‡•à‡§∞-‡§Æ‡§æ‡§®‡§ï ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§ò‡§ü‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§</p>

            <h6 id="aria-example">‡§∏‡•ç‡§§‡§∞ 6 ‡§π‡•á‡§°‡§ø‡§Ç‡§ó 3.1.1.1.1: ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§â‡§¶‡§æ‡§π‡§∞‡§£</h6>
            <p>‡§Ø‡§π ‡§∏‡§¨‡§∏‡•á ‡§®‡§ø‡§ö‡§≤‡§æ ‡§∏‡•ç‡§§‡§∞ ‡§π‡•à ‡§ú‡§ø‡§∏‡•á TOC ‡§ï‡•à‡§™‡•ç‡§ö‡§∞ ‡§ï‡§∞‡•á‡§ó‡§æ‡•§ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, `aria-label="‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡•á‡§®‡•Ç ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç"` ‡§¨‡§ü‡§® ‡§ï‡•ã ‡§è‡§ï ‡§∏‡•Å‡§≤‡§≠ ‡§®‡§æ‡§Æ ‡§¶‡•á ‡§∏‡§ï‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§Ü‡§á‡§ï‡§® ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ WCAG (‡§µ‡•á‡§¨ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§è‡§ï‡•ç‡§∏‡•á‡§∏‡§ø‡§¨‡§ø‡§≤‡§ø‡§ü‡•Ä ‡§ó‡§æ‡§á‡§°‡§≤‡§æ‡§á‡§®‡•ç‡§∏) ‡§Æ‡§æ‡§®‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡§®‡§æ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§</p>

            <h2 id="future-tech">‡§ñ‡§Ç‡§° 4: ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ü‡•á‡§ï‡•ç‡§®‡•ã‡§≤‡•â‡§ú‡•Ä‡§ú</h2>
            <p>‡§µ‡•á‡§¨ ‡§Ö‡§∏‡•á‡§Ç‡§¨‡§≤‡•Ä (Wasm) ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç ‡§≤‡§ó‡§≠‡§ó-‡§¶‡•á‡§∂‡•Ä ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡•ã ‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à, WebGPU ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§ó‡•ç‡§∞‡§æ‡§´‡§ø‡§ï‡•ç‡§∏ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ‡§ì‡§Ç ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§î‡§∞ IPFS ‡§ú‡•à‡§∏‡•Ä ‡§µ‡§ø‡§ï‡•á‡§®‡•ç‡§¶‡•ç‡§∞‡•Ä‡§ï‡•É‡§§ ‡§µ‡•á‡§¨ (Web3) ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡§ø‡§Ø‡§æ‡§Ç ‡§µ‡•á‡§¨ ‡§ï‡•á ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•ã ‡§Ö‡§ß‡§ø‡§ï ‡§ñ‡•Å‡§≤‡•á, ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§î‡§∞ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ-‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§§‡§∞‡•Ä‡§ï‡•á ‡§∏‡•á ‡§Ü‡§ï‡§æ‡§∞ ‡§¶‡•á ‡§∞‡§π‡•Ä ‡§π‡•à‡§Ç‡•§</p>
            <p>‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§á‡§∏ ‡§∞‡•ã‡§Æ‡§æ‡§Ç‡§ö‡§ï ‡§î‡§∞ ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§¨‡§¶‡§≤‡§§‡•á ‡§™‡§∞‡§ø‡§¶‡•É‡§∂‡•ç‡§Ø ‡§ï‡§æ ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑ ‡§®‡§ø‡§ï‡§æ‡§≤‡§§‡§æ ‡§π‡•à‡•§ ‡§°‡•á‡§µ‡§≤‡§™‡§∞‡•ç‡§∏ ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§∞‡§π‡§®‡•á ‡§î‡§∞ ‡§®‡§à ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§Ö‡§™‡§®‡§æ‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§</p>
        </div>
    </div>

    <aside id="toc-icon-sidebar" aria-hidden="true">
        <div id="toc-icon-sidebar-header">
            <h3 id="toc-sidebar-title">‡§µ‡§ø‡§∑‡§Ø - ‡§∏‡•Ç‡§ö‡•Ä</h3>
            <button id="toc-sidebar-internal-close" class="toc-animated-close" aria-label="‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç">
                 <i class="fas fa-xmark"></i>
            </button>
        </div>
        <div id="toc-icon-sidebar-scrollbox">
            <ul id="toc-icon-sidebar-list">
                <!-- ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ TOC ‡§Ü‡§á‡§ü‡§Æ JS ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á ‡§ú‡§æ‡§è‡§Å‡§ó‡•á -->
            </ul>
             <div id="sidebar-scroll-indicator" class="toc-scroll-indicator">
                  <i class="fas fa-angles-down"></i>
             </div>
        </div>
    </aside>

    <!-- 4. JavaScript ‡§ï‡•ã‡§° -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- ‡§è‡§≤‡§ø‡§Æ‡•á‡§Ç‡§ü ‡§ö‡§Ø‡§® ---
        const tocButtonWrapper = document.getElementById('toc-button-wrapper');
        const tocButtonHeader = document.getElementById('toc-button-header');
        const tocButtonScrollbox = document.getElementById('toc-button-scrollbox');
        const tocButtonList = document.getElementById('toc-button-list');
        const buttonScrollIndicator = document.getElementById('button-scroll-indicator');
        const floatingTocIcon = document.getElementById('floating-toc-icon');
        const tocSidebar = document.getElementById('toc-icon-sidebar');
        const tocSidebarInternalClose = document.getElementById('toc-sidebar-internal-close');
        const tocSidebarExternalClose = document.getElementById('toc-sidebar-external-close');
        const tocSidebarList = document.getElementById('toc-icon-sidebar-list');
        const tocSidebarScrollbox = document.getElementById('toc-icon-sidebar-scrollbox');
        const sidebarScrollIndicator = document.getElementById('sidebar-scroll-indicator');
        const postContentArea = document.getElementById('post-content-area');

        // --- ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§ö‡§∞ ---
        let currentlyHighlightedElements = []; // ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ï‡§ø‡§è ‡§ó‡§è ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§ü‡•ç‡§∞‡•à‡§ï ‡§∞‡§ñ‡•á‡§Ç
        let highlightTimeout = null; // ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ü‡§æ‡§á‡§Æ‡§Ü‡§â‡§ü ‡§ï‡•ã ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
        let tocButtonObserver = null; // ‡§á‡§Ç‡§ü‡§∞‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§ë‡§¨‡•ç‡§ú‡§∞‡•ç‡§µ‡§∞ ‡§á‡§Ç‡§∏‡•ç‡§ü‡•á‡§Ç‡§∏
        let hasHeadings = false; // ‡§ï‡•ç‡§Ø‡§æ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§π‡•à‡§Ç

        // --- ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® ---
        const headingIcons = {
            2: 'fas fa-layer-group', // H2 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§á‡§ï‡§®
            3: 'fas fa-stream',      // H3 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§á‡§ï‡§®
            4: 'fas fa-circle-dot',  // H4 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§á‡§ï‡§®
            5: 'fas fa-minus',       // H5 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§á‡§ï‡§®
            6: 'fas fa-chevron-right' // H6 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§á‡§ï‡§®
        };
        const scrollOffset = 70; // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§π‡•á‡§°‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ë‡§´‡§∏‡•á‡§ü (‡§™‡§ø‡§ï‡•ç‡§∏‡•á‡§≤ ‡§Æ‡•á‡§Ç)
        const highlightDurationFallback = 6000; // ‡§Æ‡§ø‡§≤‡•Ä‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§Ö‡§µ‡§ß‡§ø (CSS ŸÖÿ™ÿ∫€åÿ± ‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è)
        const clickEffectDuration = 400; // ‡§Æ‡§ø‡§≤‡•Ä‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§Ö‡§µ‡§ß‡§ø

        // --- ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ú‡§æ‡§Ç‡§ö ---
        if (!tocButtonList || !tocSidebarList || !postContentArea || !tocButtonWrapper || !floatingTocIcon || !tocSidebar) {
            console.warn("‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï TOC ‡§§‡§§‡•ç‡§µ ‡§Ø‡§æ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§è‡§∞‡§ø‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§ TOC ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§Ö‡§ï‡•ç‡§∑‡§Æ ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§");
            if (tocButtonWrapper) tocButtonWrapper.style.display = 'none';
            if (floatingTocIcon) floatingTocIcon.style.display = 'none';
            return; // ‡§Ø‡§¶‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§§‡§§‡•ç‡§µ ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç ‡§§‡•ã ‡§Ü‡§ó‡•á ‡§® ‡§¨‡§¢‡§º‡•á‡§Ç
        }

        // --- ‡§π‡•á‡§°‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§∏‡•á TOC ‡§¨‡§®‡§æ‡§è‡§Ç ---
        const headings = postContentArea.querySelectorAll('h1, h2, h3, h4, h5, h6'); // H1 ‡§ï‡•ã ‡§≠‡•Ä ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§¶‡§ø ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•ã, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ü‡§Æ‡§§‡•å‡§∞ ‡§™‡§∞ TOC H2 ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à
        const fragmentButton = document.createDocumentFragment();
        const fragmentSidebar = document.createDocumentFragment();

        headings.forEach((heading) => {
             // H1 ‡§ï‡•ã ‡§õ‡•ã‡§°‡§º ‡§¶‡•á‡§Ç ‡§Ø‡§æ ‡§Ö‡§™‡§®‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ‡§®‡•Å‡§∏‡§æ‡§∞ ‡§∏‡§Ç‡§≠‡§æ‡§≤‡•á‡§Ç
             if (heading.tagName === 'H1') {
                 return;
             }

            hasHeadings = true;
            let id = heading.id;

            // ‡§Ø‡§¶‡§ø ‡§Ü‡§à‡§°‡•Ä ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à ‡§§‡•ã ‡§è‡§ï ‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§Ü‡§à‡§°‡•Ä ‡§¨‡§®‡§æ‡§è‡§Ç
            if (!id) {
                // ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∏‡•á ‡§∏‡•ç‡§≤‡§ó ‡§¨‡§®‡§æ‡§è‡§Ç
                id = 'toc_' + (heading.textContent || 'heading')
                                .trim()
                                .toLowerCase()
                                .replace(/\s+/g, '-') // ‡§∏‡•ç‡§™‡•á‡§∏‡•á‡§∏ ‡§ï‡•ã ‡§π‡§æ‡§á‡§´‡§º‡§® ‡§∏‡•á ‡§¨‡§¶‡§≤‡•á‡§Ç
                                .replace(/[^\w-]+/g, ''); // ‡§ó‡•à‡§∞-‡§Ö‡§≤‡•ç‡§´‡§º‡§æ‡§®‡•ç‡§Ø‡•Ç‡§Æ‡•á‡§∞‡§ø‡§ï ‡§µ‡§∞‡•ç‡§£ ‡§π‡§ü‡§æ‡§è‡§Ç (‡§π‡§æ‡§á‡§´‡§º‡§® ‡§ï‡•ã ‡§õ‡•ã‡§°‡§º‡§ï‡§∞)

                // ‡§Ü‡§à‡§°‡•Ä ‡§ï‡•Ä ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü‡§§‡§æ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç
                let counter = 1;
                let originalId = id;
                while (document.getElementById(id)) {
                    id = `${originalId}-${counter}`;
                    counter++;
                }
                heading.id = id; // ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§Ü‡§à‡§°‡•Ä ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
            }

            const level = parseInt(heading.tagName.substring(1));
            const linkText = heading.textContent || '‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§∞‡§π‡§ø‡§§';
            const iconClass = headingIcons[level] || 'fas fa-circle'; // ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§Ü‡§á‡§ï‡§®

            // ‡§¶‡•ã‡§®‡•ã‡§Ç TOCs ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Ü‡§á‡§ü‡§Æ ‡§¨‡§®‡§æ‡§è‡§Ç
            [fragmentButton, fragmentSidebar].forEach(fragment => {
                const listItem = document.createElement('li');
                listItem.classList.add('toc-list-item', `level-${level}`);

                const link = document.createElement('a');
                link.href = `#${id}`;
                link.dataset.targetId = id; // ‡§Ü‡§∏‡§æ‡§® ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§™‡•Å‡§®‡§∞‡•ç‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡•á‡§ü‡§æ ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ

                const iconSpan = document.createElement('span');
                iconSpan.className = 'toc-item-icon';
                iconSpan.innerHTML = `<i class="${iconClass}" aria-hidden="true"></i>`; // ARIA: ‡§Ü‡§á‡§ï‡§® ‡§∏‡§ú‡§æ‡§µ‡§ü‡•Ä ‡§π‡•à

                const textSpan = document.createElement('span');
                textSpan.className = 'toc-item-text';
                textSpan.textContent = linkText;

                link.appendChild(iconSpan);
                link.appendChild(textSpan);
                listItem.appendChild(link);
                fragment.appendChild(listItem);
            });
        });

        // ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® TOC ‡§ï‡•ã DOM ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
        tocButtonList.appendChild(fragmentButton);
        tocSidebarList.appendChild(fragmentSidebar);

        // ‡§Ø‡§¶‡§ø ‡§ï‡•ã‡§à ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä ‡§§‡•ã TOC ‡§õ‡§ø‡§™‡§æ‡§è‡§Å
        if (!hasHeadings) {
            tocButtonWrapper.style.display = 'none';
            floatingTocIcon.style.display = 'none';
        } else {
            // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§î‡§∞ ‡§ë‡§¨‡•ç‡§ú‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•á‡§ü‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç
            checkScrollIndicatorVisibility(tocButtonScrollbox, buttonScrollIndicator);
            checkScrollIndicatorVisibility(tocSidebarScrollbox, sidebarScrollIndicator);
            setupTocButtonObserver();
            setInitialButtonTocState();
        }

        // --- ‡§¨‡§ü‡§® TOC ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ---
        function toggleButtonToc() {
            const isCollapsed = tocButtonWrapper.classList.toggle('collapsed');
            tocButtonWrapper.classList.toggle('expanded', !isCollapsed);
            tocButtonHeader.setAttribute('aria-expanded', String(!isCollapsed)); // ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç
            if (!isCollapsed) {
                // ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞‡§ø‡§§ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç
                checkScrollIndicatorVisibility(tocButtonScrollbox, buttonScrollIndicator);
                tocButtonScrollbox.focus(); // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤‡§¨‡•â‡§ï‡•ç‡§∏ ‡§™‡§∞ ‡§´‡§º‡•ã‡§ï‡§∏ ‡§ï‡§∞‡•á‡§Ç
            } else {
                tocButtonHeader.focus(); // ‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§π‡•á‡§°‡§∞ ‡§™‡§∞ ‡§´‡§º‡•ã‡§ï‡§∏ ‡§ï‡§∞‡•á‡§Ç
            }
        }

        function setInitialButtonTocState() {
            tocButtonWrapper.classList.add('collapsed');
            tocButtonWrapper.classList.remove('expanded');
            tocButtonHeader.setAttribute('aria-expanded', 'false');
            // ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ ‡§Æ‡•á‡§Ç ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§õ‡§ø‡§™‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à
            if(buttonScrollIndicator) buttonScrollIndicator.classList.remove('visible');
        }

        // ‡§¨‡§ü‡§® TOC ‡§ü‡•â‡§ó‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§µ‡•á‡§Ç‡§ü ‡§∂‡•ç‡§∞‡•ã‡§§‡§æ
        if (tocButtonHeader) {
            tocButtonHeader.addEventListener('click', toggleButtonToc);
            tocButtonHeader.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    event.preventDefault(); // ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∞‡•ã‡§ï‡•á‡§Ç (‡§ú‡•à‡§∏‡•á ‡§∏‡•ç‡§™‡•á‡§∏ ‡§∏‡•á ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡§®‡§æ)
                    toggleButtonToc();
                }
            });
        }

        // --- ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§¶‡•É‡§∂‡•ç‡§Ø‡§§‡§æ (‡§á‡§Ç‡§ü‡§∞‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§ë‡§¨‡•ç‡§ú‡§∞‡•ç‡§µ‡§∞) ---
        function setupTocButtonObserver() {
            if (!('IntersectionObserver' in window)) {
                console.warn("IntersectionObserver ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó TOC ‡§Ü‡§á‡§ï‡§® ‡§π‡§Æ‡•á‡§∂‡§æ ‡§¶‡§ø‡§ñ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§");
                // ‡§´‡•â‡§≤‡§¨‡•à‡§ï: ‡§Ü‡§á‡§ï‡§® ‡§ï‡•ã ‡§π‡§Æ‡•á‡§∂‡§æ ‡§¶‡•É‡§∂‡•ç‡§Ø‡§Æ‡§æ‡§® ‡§¨‡§®‡§æ‡§è‡§Ç ‡§Ø‡§¶‡§ø ‡§ë‡§¨‡•ç‡§ú‡§∞‡•ç‡§µ‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
                 if(floatingTocIcon && hasHeadings) floatingTocIcon.classList.add('visible');
                return;
            }

            const observerOptions = {
                root: null, // ‡§µ‡•ç‡§Ø‡•Ç‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•á ‡§∏‡§æ‡§™‡•á‡§ï‡•ç‡§∑
                rootMargin: '0px',
                threshold: 0 // ‡§ú‡•à‡§∏‡•á ‡§π‡•Ä ‡§§‡§§‡•ç‡§µ ‡§µ‡•ç‡§Ø‡•Ç‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§≤‡§§‡§æ ‡§π‡•à
            };

            tocButtonObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    // ‡§Ø‡§¶‡§ø ‡§¨‡§ü‡§® TOC ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á ‡§∞‡§π‡§æ ‡§π‡•à ‡§î‡§∞ ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•à, ‡§§‡•ã ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å
                    if (!entry.isIntersecting && !tocSidebar.classList.contains('visible')) {
                         if(floatingTocIcon) floatingTocIcon.classList.add('visible');
                    } else {
                         if(floatingTocIcon) floatingTocIcon.classList.remove('visible');
                    }
                });
            }, observerOptions);

            tocButtonObserver.observe(tocButtonWrapper);
        }

        // --- ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ TOC ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ---
        function openSidebar() {
            tocSidebar.classList.add('visible');
            tocSidebar.setAttribute('aria-hidden', 'false');
            document.body.classList.add('toc-sidebar-open');
            if(tocSidebarExternalClose) tocSidebarExternalClose.classList.add('visible');
             if(floatingTocIcon) floatingTocIcon.classList.remove('visible'); // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ñ‡•Å‡§≤‡§æ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§õ‡§ø‡§™‡§æ‡§è‡§Å

            // ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç ‡§î‡§∞ ‡§´‡•ã‡§ï‡§∏ ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
            checkScrollIndicatorVisibility(tocSidebarScrollbox, sidebarScrollIndicator);
            setTimeout(() => tocSidebarInternalClose?.focus(), 50); // ‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï ‡§ï‡•ç‡§≤‡•ã‡§ú ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§´‡•ã‡§ï‡§∏ ‡§ï‡§∞‡•á‡§Ç

            // ‡§¨‡§æ‡§π‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∂‡•ç‡§∞‡•ã‡§§‡§æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
             setTimeout(() => { // ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞‡•Ä ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§á‡§∏‡•á ‡§¨‡§Ç‡§¶ ‡§® ‡§ï‡§∞‡•á
                 document.addEventListener('click', handleOutsideSidebarClick, true);
             }, 100);
        }

        function closeSidebar() {
            tocSidebar.classList.remove('visible');
            tocSidebar.setAttribute('aria-hidden', 'true');
            document.body.classList.remove('toc-sidebar-open');
            if(tocSidebarExternalClose) tocSidebarExternalClose.classList.remove('visible');

            // ‡§Ø‡§¶‡§ø ‡§¨‡§ü‡§® TOC ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§ë‡§´-‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§π‡•à ‡§§‡•ã ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å
            if (tocButtonObserver && !tocButtonObserver.takeRecords()[0]?.isIntersecting) {
                // ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§ú‡§æ‡§Ç‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§¶‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§¨‡§ü‡§® TOC ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä ‡§¶‡•É‡§∂‡•ç‡§Ø‡§Æ‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
                setTimeout(() => {
                    const buttonEntry = new IntersectionObserver(entries => {
                        if (!entries[0].isIntersecting) {
                             if(floatingTocIcon) floatingTocIcon.classList.add('visible');
                        }
                         // ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ë‡§¨‡•ç‡§ú‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•ã ‡§°‡§ø‡§∏‡•ç‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç
                        buttonEntry.disconnect();
                    }).observe(tocButtonWrapper);
                }, 50); // CSS ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
            }

            // ‡§¨‡§æ‡§π‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§∂‡•ç‡§∞‡•ã‡§§‡§æ ‡§π‡§ü‡§æ‡§è‡§Ç
            document.removeEventListener('click', handleOutsideSidebarClick, true);

            // ‡§´‡•ã‡§ï‡§∏ ‡§µ‡§æ‡§™‡§∏ ‡§´‡•ç‡§≤‡•ã‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§á‡§ï‡§® ‡§™‡§∞ ‡§≤‡•á ‡§ú‡§æ‡§è‡§Ç (‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§π‡•à)
             if(floatingTocIcon) floatingTocIcon.focus();
        }

        // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§π‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§π‡•à‡§Ç‡§°‡§≤‡§∞
        function handleOutsideSidebarClick(event) {
            // ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§Ø‡§æ ‡§á‡§∏‡•á ‡§ñ‡•ã‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§Ü‡§á‡§ï‡§® ‡§ï‡•á ‡§¨‡§æ‡§π‡§∞ ‡§π‡•Å‡§Ü ‡§π‡•à
             if (tocSidebar.classList.contains('visible') &&
                 !tocSidebar.contains(event.target) &&
                 event.target !== floatingTocIcon && // ‡§Ü‡§á‡§ï‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§¨‡§Ç‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
                 !floatingTocIcon?.contains(event.target) && // ‡§Ü‡§á‡§ï‡§® ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§¨‡§Ç‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
                 event.target !== tocSidebarExternalClose &&
                 !tocSidebarExternalClose?.contains(event.target))
             {
                closeSidebar();
             }
        }

        // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ñ‡•ã‡§≤‡§®‡•á/‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§µ‡•á‡§Ç‡§ü ‡§∂‡•ç‡§∞‡•ã‡§§‡§æ
        if (floatingTocIcon) {
            floatingTocIcon.addEventListener('click', (e) => {
                e.stopPropagation(); // ‡§¨‡•â‡§°‡•Ä ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡•ã ‡§ü‡•ç‡§∞‡§ø‡§ó‡§∞ ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§∞‡•ã‡§ï‡•á‡§Ç
                openSidebar();
            });
        }
        if (tocSidebarInternalClose) {
            tocSidebarInternalClose.addEventListener('click', closeSidebar);
        }
        if (tocSidebarExternalClose) {
            tocSidebarExternalClose.addEventListener('click', closeSidebar);
        }

        // ‡§è‡§∏‡•ç‡§ï‡•á‡§™ ‡§ï‡•Å‡§Ç‡§ú‡•Ä ‡§∏‡•á ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && tocSidebar.classList.contains('visible')) {
                closeSidebar();
            }
        });

        // --- TOC ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§π‡•à‡§Ç‡§°‡§≤‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü‡§ø‡§Ç‡§ó ---
        function handleTocLinkClick(event) {
            const linkElement = event.target.closest('a');
            if (linkElement && linkElement.dataset.targetId) {
                event.preventDefault(); // ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§è‡§Ç‡§ï‡§∞ ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞ ‡§∞‡•ã‡§ï‡•á‡§Ç
                const targetId = linkElement.dataset.targetId;
                const targetElement = document.getElementById(targetId);

                // ‡§≤‡§ø‡§Ç‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡•á‡§Ç
                linkElement.classList.add('toc-link-clicked');
                setTimeout(() => {
                    linkElement.classList.remove('toc-link-clicked');
                }, clickEffectDuration);

                if (targetElement) {
                    // ‡§Ø‡§¶‡§ø ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ñ‡•Å‡§≤‡§æ ‡§π‡•à, ‡§§‡•ã ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§á‡§∏‡•á ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç (‡§∏‡•ç‡§Æ‡•Ç‡§¶ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§•‡•ã‡§°‡§º‡§æ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§¶‡•á‡§Ç)
                    if (tocSidebar.classList.contains('visible')) {
                         // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
                        closeSidebar();
                         // ‡§•‡•ã‡§°‡§º‡§æ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§¶‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ï‡•á ‡§¨‡§Ç‡§¶ ‡§π‡•ã‡§®‡•á ‡§ï‡§æ ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§á‡§Ç‡§ü‡§∞‡§´‡•á‡§Ø‡§∞ ‡§® ‡§ï‡§∞‡•á
                        setTimeout(() => {
                            scrollToElement(targetElement);
                        }, 300); // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡§Æ‡§Ø ‡§ï‡•á ‡§ï‡§∞‡•Ä‡§¨
                    } else {
                        // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•à, ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
                        scrollToElement(targetElement);
                    }
                } else {
                    console.warn(`‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§§‡§§‡•ç‡§µ ‡§Ü‡§à‡§°‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ: ${targetId}`);
                }
            }
        }

        function scrollToElement(element) {
             const offsetTop = element.getBoundingClientRect().top + window.pageYOffset - scrollOffset;
             window.scrollTo({
                 top: offsetTop,
                 behavior: 'smooth'
             });
             // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§≤‡§æ‡§ó‡•Ç ‡§ï‡§∞‡•á‡§Ç
             // 'smooth' ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§ü‡•Ä‡§ï ‡§∏‡§Æ‡§Ø ‡§ú‡§æ‡§®‡§®‡§æ ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§è‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
             setTimeout(() => {
                 applyHighlight(element);
                 // ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§¨‡§¶‡§≤‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø URL ‡§π‡•à‡§∂ ‡§Ö‡§™‡§°‡•á‡§ü ‡§π‡•ã ‡§ú‡§æ‡§è
                 // history.pushState(null, '', `#${element.id}`); // ‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï: ‡§Ø‡§¶‡§ø ‡§Ü‡§™ URL ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç
             }, 700); // ‡§∏‡•ç‡§Æ‡•Ç‡§¶ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§∏‡§Æ‡§Ø
        }


        // TOC ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§µ‡•á‡§Ç‡§ü ‡§∂‡•ç‡§∞‡•ã‡§§‡§æ (‡§á‡§µ‡•á‡§Ç‡§ü ‡§°‡•á‡§≤‡§ø‡§ó‡•á‡§∂‡§®)
        if (tocButtonList) tocButtonList.addEventListener('click', handleTocLinkClick);
        if (tocSidebarList) tocSidebarList.addEventListener('click', handleTocLinkClick);

        // --- ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü‡§ø‡§Ç‡§ó ---
        function applyHighlight(headingElement) {
            clearHighlight(); // ‡§™‡§ø‡§õ‡§≤‡•Ä ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§π‡§ü‡§æ‡§è‡§Ç

            headingElement.classList.add('toc-target-heading');
            currentlyHighlightedElements.push(headingElement);

            let nextElem = headingElement.nextElementSibling;
            const headingLevel = parseInt(headingElement.tagName.substring(1));

            // ‡§Ö‡§ó‡§≤‡•á ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§§‡§ï (‡§Ø‡§æ ‡§∏‡§Æ‡§æ‡§®/‡§â‡§ö‡•ç‡§ö ‡§∏‡•ç‡§§‡§∞ ‡§ï‡•á ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§§‡§ï) ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ï‡§∞‡•á‡§Ç
            while (nextElem) {
                const tagName = nextElem.tagName.toUpperCase();
                // ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§è‡§ï ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§π‡•à, ‡§§‡•ã ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§Ø‡§π ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü‡§ø‡§Ç‡§ó ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§¶‡•á‡§§‡§æ ‡§π‡•à
                if (tagName.startsWith('H')) {
                    const nextLevel = parseInt(tagName.substring(1));
                    if (nextLevel <= headingLevel) {
                        break; // ‡§∏‡§Æ‡§æ‡§® ‡§Ø‡§æ ‡§â‡§ö‡•ç‡§ö ‡§∏‡•ç‡§§‡§∞ ‡§ï‡§æ ‡§π‡•á‡§°‡§ø‡§Ç‡§ó ‡§Æ‡§ø‡§≤‡§æ, ‡§∞‡•Å‡§ï‡•á‡§Ç
                    }
                }
                // ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§è‡§ï ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§Ø‡§æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§¨‡•ç‡§≤‡•â‡§ï ‡§§‡§§‡•ç‡§µ ‡§π‡•à, ‡§§‡•ã ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§ï‡§∞‡•á‡§Ç
                if (['P', 'UL', 'OL', 'DIV', 'BLOCKQUOTE', 'PRE'].includes(tagName)) {
                    nextElem.classList.add('toc-target-paragraph');
                    currentlyHighlightedElements.push(nextElem);
                }
                nextElem = nextElem.nextElementSibling;
            }

            // CSS ŸÖÿ™ÿ∫€åÿ± ‡§∏‡•á ‡§Ö‡§µ‡§ß‡§ø ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§´‡•â‡§≤‡§¨‡•à‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
             const highlightDuration = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--toc-popup-highlight-duration') || highlightDurationFallback / 1000) * 1000 || highlightDurationFallback;


            // ‡§π‡§æ‡§á‡§≤‡§æ‡§á‡§ü ‡§π‡§ü‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡§æ‡§á‡§Æ‡§Ü‡§â‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
            highlightTimeout = setTimeout(() => {
                currentlyHighlightedElements.forEach(el => {
                    el.classList.add('fading-out');
                    // ‡§´‡•á‡§°-‡§Ü‡§â‡§ü ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ï‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç ‡§π‡§ü‡§æ‡§è‡§Ç
                    setTimeout(() => {
                        el.classList.remove('toc-target-heading', 'toc-target-paragraph', 'fading-out');
                    }, 500); // CSS ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§Ö‡§µ‡§ß‡§ø ‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
                });
                currentlyHighlightedElements = []; // ‡§ê‡§∞‡•á ‡§∏‡§æ‡§´‡§º ‡§ï‡§∞‡•á‡§Ç
            }, highlightDuration - 500); // ‡§´‡•á‡§°-‡§Ü‡§â‡§ü ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡§Æ‡§Ø ‡§ò‡§ü‡§æ‡§è‡§Ç
        }

        function clearHighlight() {
            if (highlightTimeout) clearTimeout(highlightTimeout);
            highlightTimeout = null;
            currentlyHighlightedElements.forEach(el => {
                el.classList.remove('toc-target-heading', 'toc-target-paragraph', 'fading-out');
            });
            currentlyHighlightedElements = [];
        }

        // --- ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§¶‡•É‡§∂‡•ç‡§Ø‡§§‡§æ ---
        function checkScrollIndicatorVisibility(scrollbox, indicator) {
            if (!scrollbox || !indicator) return;

            let isVisible = false; // ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ü‡•ç‡§∞‡•à‡§ï‡§∞

            function check() {
                // ‡§¨‡§ü‡§® TOC ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§Æ‡§æ‡§Æ‡§≤‡§æ: ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§∏‡§Ç‡§ï‡•ç‡§∑‡§ø‡§™‡•ç‡§§ ‡§π‡•à ‡§§‡•ã ‡§á‡§Ç‡§°‡§ø‡§ï‡•á‡§ü‡§∞ ‡§õ‡§ø‡§™‡§æ‡§è‡§Å
                if (scrollbox === tocButtonScrollbox && tocButtonWrapper?.classList.contains('collapsed')) {
                    if (isVisible) {
                        indicator.classList.remove('visible');
                        isVisible = false;
                    }
                    return;
                }

                // ‡§ï‡•ç‡§Ø‡§æ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§π‡•à? (‡§ä‡§Ç‡§ö‡§æ‡§à ‡§Æ‡•á‡§Ç ‡§•‡•ã‡§°‡§º‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® ‡§¶‡•á‡§Ç)
                const isScrollable = scrollbox.scrollHeight > scrollbox.clientHeight + 5;
                // ‡§ï‡•ç‡§Ø‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§∂‡•Ä‡§∞‡•ç‡§∑ ‡§ï‡•á ‡§™‡§æ‡§∏ ‡§π‡•à? (‡§•‡•ã‡§°‡§º‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® ‡§¶‡•á‡§Ç)
                const isNearTop = scrollbox.scrollTop < 20;

                const shouldBeVisible = isScrollable && isNearTop;

                if (shouldBeVisible && !isVisible) {
                    indicator.classList.add('visible');
                    isVisible = true;
                } else if (!shouldBeVisible && isVisible) {
                    indicator.classList.remove('visible');
                    isVisible = false;
                }
            }

            // ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§¨‡§æ‡§¶ ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∏‡§ï‡•á
            setTimeout(check, 250);

            // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§™‡§∞ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç (‡§•‡•ç‡§∞‡•â‡§ü‡§≤‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§¨‡§ø‡§®‡§æ, ‡§≤‡•á‡§ï‡§ø‡§® ‡§®‡§ø‡§∑‡•ç‡§ï‡•ç‡§∞‡§ø‡§Ø)
            scrollbox.addEventListener('scroll', check, { passive: true });

             // ‡§¨‡§ü‡§® TOC ‡§ü‡•â‡§ó‡§≤ ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§≠‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
             if (scrollbox === tocButtonScrollbox && tocButtonHeader) {
                 tocButtonHeader.addEventListener('click', () => {
                     // ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§≤‡§Ç‡§¨ ‡§ï‡§∞‡•á‡§Ç
                     setTimeout(check, 600); // max-height ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§∏‡§Æ‡§Ø ‡§∏‡•á ‡§•‡•ã‡§°‡§º‡§æ ‡§Ö‡§ß‡§ø‡§ï
                 });
             }
             // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ñ‡•Å‡§≤‡§®‡•á ‡§™‡§∞ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
             if (scrollbox === tocSidebarScrollbox && floatingTocIcon) {
                 floatingTocIcon.addEventListener('click', () => {
                     setTimeout(check, 550); // ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§ñ‡•Å‡§≤‡§®‡•á ‡§ï‡•á ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§ú‡§º‡§ø‡§∂‡§® ‡§ï‡•á ‡§¨‡§æ‡§¶
                 });
             }
        }
    });
    </script>

</body>
</html>
